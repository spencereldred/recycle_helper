<div ng-hide="howItWorks || userProfile">
  <div class="row">
    <div class="col-sm-offset-2 col-sm-8">
  <h2>Admin index page</h2>

  <div ng-controller="GroupController">
    <h3>Groups</h3>
    <table class="table table-hover" id="group-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Id</th>
          <th>Promo Code</th>
          <th>Url</th>
          <th>description</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="group in groups">
        <!-- <tr ng-repeat="group in groups| filter: {id: <%#= current_user.group_id %>}"> -->
          <td>{{group.name}}</td>
          <td>{{group.id}}</td>
          <td>{{group.promo_code}}</td>
          <td>{{group.url}}</td>
          <td>{{group.description}}</td>
        </tr>

      </tbody>
    </table>
  </div> <!-- ng-controller UserController -->

  <div ng-controller="UserController">
    <h3>Users</h3>
    <table class="table table-hover" id="user-table">
      <thead>
        <tr>
          <th>Name </th>
          <th>Group Id</th>
          <th>Address</th>
          <th>City, State Zip</th>
          <th>Function</th>
          <th>Email</th>
          <th>Phone</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="user in users | filter: {function: 'admin'}">
          <td>{{user.first_name}} {{user.last_name}}</td>
          <td>{{user.group_id}}</td>
          <td>{{user.address}}</td>
          <td>{{user.city}}, {{user.state}} {{user.zipcode}}</td>
          <td>{{user.function}}</td>
          <td>{{user.email}}</td>
          <td>{{user.phone}}</td>
        </tr>
        <tr ng-repeat="user in users | filter: {function: 'recycler'}">
          <td>{{user.first_name}} {{user.last_name}}</td>
          <td>{{user.group_id}}</td>
          <td>{{user.address}}</td>
          <td>{{user.city}}, {{user.state}} {{user.zipcode}}</td>
          <td>{{user.function}}</td>
          <td>{{user.email}}</td>
          <td>{{user.phone}}</td>
        </tr>
        <tr ng-repeat="user in users | filter: {function: 'redeemer'}">
          <td>{{user.first_name}} {{user.last_name}}</td>
          <td>{{user.group_id}}</td>
          <td>{{user.address}}</td>
          <td>{{user.city}}, {{user.state}} {{user.zipcode}}</td>
          <td>{{user.function}}</td>
          <td>{{user.email}}</td>
          <td>{{user.phone}}</td>
        </tr>

      </tbody>
    </table>
  </div> <!-- ng-controller UserController -->

  <div ng-controller="TransactionController">
    <h3>Transactions</h3>
    <table class="table table-hover" id="recycler-table">
      <thead>
        <tr>
          <th>Group Id</th>
          <th>Address / City</th>
          <th>St. / Zip</th>
          <th>Plastic</th>
          <th>Cans</th>
          <th>Glass</th>
          <th>Date Posted</th>
          <th>Date Selected</th>
          <th>Date Completed</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="transaction in transactions | filter: {trans_type: 'redeemable'} | filter: {selected: false}">
          <td>{{transaction.group_id}}</td>
          <td>{{transaction.address}}, {{transaction.city}}</td>
          <td>{{transaction.state}} {{transaction.zipcode}}</td>
          <td>{{transaction.plastic}}</td>
          <td>{{transaction.cans}}</td>
          <td>{{transaction.glass}}</td>
          <td>{{transaction.created_at}}</td>
          <td>{{transaction.selection_date}}</td>
          <td>{{transaction.completion_date}}</td>
        </tr>
        <tr ng-repeat="transaction in transactions | filter: {trans_type: 'redeemable'} | filter: {selected: true} | filter: {completed: false}">
          <td>{{transaction.group_id}}</td>
          <td>{{transaction.address}}, {{transaction.city}}</td>
          <td>{{transaction.state}} {{transaction.zipcode}}</td>
          <td>{{transaction.plastic}}</td>
          <td>{{transaction.cans}}</td>
          <td>{{transaction.glass}}</td>
          <td>{{transaction.created_at}}</td>
          <td>{{transaction.selection_date}}</td>
          <td>{{transaction.completion_date}}</td>
        </tr>
        <tr ng-repeat="transaction in transactions | filter: {trans_type: 'redeemable'} | filter: {selected: true} | filter: {completed: true}">
          <td>{{transaction.group_id}}</td>
          <td>{{transaction.address}}, {{transaction.city}}</td>
          <td>{{transaction.state}} {{transaction.zipcode}}</td>
          <td>{{transaction.plastic}}</td>
          <td>{{transaction.cans}}</td>
          <td>{{transaction.glass}}</td>
          <td>{{transaction.created_at}}</td>
          <td>{{transaction.selection_date}}</td>
          <td>{{transaction.completion_date}}</td>
        </tr>
      </tbody>
    </table>
  </div> <!-- ng-controller UserController -->
  </div><!-- end col set -->
  </div><!-- end row -->

</div><!-- ng-hide -->
